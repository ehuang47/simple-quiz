<html>

<head>
  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
    crossorigin="anonymous" />
  <style>
    body {
      margin: 20px;
    }

    * {
      text-align: center;
    }
  </style>
</head>

<body>
  <header>
    <nav class="navbar nav-fill navbar-expand-lg navbar-light bg-light">
      <a class="nav-item nav-link" href="/home">Home</a>
      <a class="nav-item nav-link" href="/feedback">Feedback</a>
      <a class="nav-item nav-link" href="/contact">Contact Us</a>
      <a id="logout" class="nav-item nav-link" href="/">Logout</a>
    </nav>
  </header>

  <ul class="nav flex-column">
    {{#each titles}}
      <a class="nav-link" href="/quiz/{{this}}">{{this}}</a>
    {{/each}}
  </ul>

</body>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
  const logout = document.getElementById('logout');
  logout.addEventListener('click', function (e) {
    $.ajax({
      url: "/logout",
      type: "POST",
      contentType: "application/json; charset=utf-8",
      success: function (data, textStatus, req) {
        document.cookie = "JWT=test;max-age=0;";
        // console.log(`Cookie: ${document.cookie}`);
        alert(data.msg);
      },
      error: function (res) {
        alert(res.responseJSON.errorMsg);
      }
    });
  });
</script>

</html>